
@{
    ViewBag.Title = "Details";
}

<div class="container">
    <div class="row">
        <div class="panel-body">
            <h3>Datos del empleado</h3>
            <table class="table table-bordered table-responsive">
                <tbody>
                    <tr>
                        <td>
                            <h5><b>Id Empleado</b> 100</h5>
                            <h5><b>Departamento</b> Tecnologia</h5>
                            <h5><b>Fecha Contratacion</b> 01/01/17</h5>
                        </td>
                        <td>
                            <h5><b>Nombre</b> Richard</h5>
                            <h5><b>Apellido</b> Casado</h5>
                        </td>

                        <td>
                            <h5><b>Direccion</b> Calle 5 esq 8</h5>
                            <h5><b>Telefono</b> 8095557485</h5>
                            <h5><b>Email</b> 96rdca@gmail.com</h5>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>Detalles de proyectos a su cargo</h4>
            <table class="table table-responsive table-hover">
                <tbody>
                    <tr>
                        <td>Estado </td>
                        <td>Proyectos</td>
                        <td>Fecha limite</td>
                    </tr>
                    <tr>
                        <td>Inactivo</td>
                        <td>Sistema de control de calidad</td>
                        <td>31/12/19</td>
                    </tr>
                    <tr>
                        <td>Activo</td>
                        <td>Sistema de control de inventarios</td>
                        <td>31/12/18</td>
                    </tr>
                    <tr>
                        <td>Terminado</td>
                        <td>Sistema de Gestion de Proyectos</td>
                        <td>31/12/17</td>
                    </tr>
                </tbody>
            </table>
            <div class="btn-group btn-toolbar">
                @*@Html.ActionLink(" Asignar Proyecto", "Allocate", "Projects", null, new { @class = "btn btn-primary glyphicon glyphicon-plus", style = "height:33px;" })*@
                <a class="btn btn-primary" data-toggle="modal" data-target="#proyecto" onclick="showModalProyecto(1)">Asignar Proyecto</a>
                @Html.ActionLink("Regresar", "Index", "Employee", null, new { @class = "btn btn-danger" })
            </div>
        </div>
    </div>
</div>

<div id="proyecto" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Asignar Proyecto</h3>
            </div>
            <div class="modal-body">
                <form id="AsignarProyecto" class="form-horizontal" method="post" action="@Url.Action("Index", "Projects")">
                    <input type="hidden" id="ProyectoID" name="ProyectoID" value="" />
                    <label class="control-label" for="promotor">Proyectos Disponibles:</label>
                    <select id="ProyectoID" name="ProyectoID" class="form-control">
                        @{
                            List<string> project = new List<string>();
                            project.Add("Sistema de Nomina");
                            project.Add("Sistema de Cartografia");
                            project.Add("InputControlSystem");
                            project.Add("OuputControlSystem");

                            foreach (var p in project)
                            {
                                <option value="@p">@p</option>
                            }
                        }
                    </select>
                </form>
            </div>
            <div class="modal-footer">
                <a class="btn btn-default" onclick="submitProyecto()">Guardar</a>
            </div>
        </div>
    </div>
</div>

<script src="~/Scripts/jquery-3.2.1.js"></script>
<script>
    function showModalProyecto(id) {
        var modal = document.getElementById('proyecto');
        modal.style.display = "block";

        document.getElementById('proyectoID').setAttribute('value', id);
        document.getElementById('proyectoID').value = id;
    }

    function submitProyecto() {
        document.getElementById('AsignarProyecto').submit();
    }

</script>
